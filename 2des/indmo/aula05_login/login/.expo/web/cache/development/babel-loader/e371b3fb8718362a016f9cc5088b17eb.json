{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport style from \"./style.js\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      msm = _useState6[0],\n      setMsg = _useState6[1];\n\n  var validarLogin = function validarLogin() {\n    var url = \"http://10.87.207.20:8080/api/login\";\n    var data = {\n      \"user\": user,\n      \"senha\": password\n    };\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    }).then(function (resp) {\n      if (resp.status == 200) {\n        return resp.json();\n      } else {\n        setMsg('Usu치rio ou senha inv치lidos');\n      }\n    }).then(function (data) {\n      navigation.navigate(\"home\", data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(View, {\n    style: style.page\n  }, React.createElement(View, {\n    style: style.inputs\n  }, React.createElement(Text, null, \"Login:\"), React.createElement(TextInput, {\n    style: style.in,\n    placeholder: \"login\",\n    onChange: function onChange(e) {\n      setUser(e.target.value);\n    }\n  })), React.createElement(View, {\n    style: style.inputs\n  }, React.createElement(Text, null, \"Senha:\"), React.createElement(TextInput, {\n    style: style.in,\n    secureTextEntry: true,\n    onChange: function onChange(e) {\n      setPassword(e.target.value);\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: validarLogin\n  }, React.createElement(Text, {\n    style: style.entrar\n  }, \"Entrar\")), React.createElement(View, {\n    style: style.inputs\n  }));\n}","map":{"version":3,"sources":["D:/Rafael Faria/SENAI2021/2des/indmo/aula05/login/pages/login/index.js"],"names":["React","useState","style","Login","navigation","user","setUser","password","setPassword","msm","setMsg","validarLogin","url","data","fetch","method","body","JSON","stringify","then","resp","status","json","navigate","catch","err","console","log","page","inputs","in","e","target","value","entrar"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;;AAEA,OAAOC,KAAP;AAEA,eAAe,SAASC,KAAT,OAA+B;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAE1C,kBAAwBH,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOI,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAgCL,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOM,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAAsBP,QAAQ,CAAC,EAAD,CAA9B;AAAA;AAAA,MAAOQ,GAAP;AAAA,MAAYC,MAAZ;;AAEA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvB,QAAIC,GAAG,GAAG,oCAAV;AAEA,QAAIC,IAAI,GAAG;AACP,cAAQR,IADD;AAEP,eAASE;AAFF,KAAX;AAKAO,IAAAA,KAAK,CAACF,GAAD,EAAM;AACPG,MAAAA,MAAM,EAAE,MADD;AAEPC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AAFC,KAAN,CAAL,CAIKM,IAJL,CAIU,UAAAC,IAAI,EAAI;AACV,UAAIA,IAAI,CAACC,MAAL,IAAe,GAAnB,EAAwB;AACpB,eAAOD,IAAI,CAACE,IAAL,EAAP;AACH,OAFD,MAEO;AACHZ,QAAAA,MAAM,CAAC,4BAAD,CAAN;AACH;AACJ,KAVL,EAWKS,IAXL,CAWU,UAAAN,IAAI,EAAI;AACVT,MAAAA,UAAU,CAACmB,QAAX,CAAoB,MAApB,EAA4BV,IAA5B;AACH,KAbL,EAcKW,KAdL,CAcW,UAAAC,GAAG,EAAI;AAAEC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAkB,KAdtC;AAeH,GAvBD;;AAyBA,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEvB,KAAK,CAAC0B;AAAnB,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE1B,KAAK,CAAC2B;AAAnB,KACI,oBAAC,IAAD,iBADJ,EAEI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE3B,KAAK,CAAC4B,EAAxB;AAA4B,IAAA,WAAW,EAAC,OAAxC;AAAgD,IAAA,QAAQ,EAAE,kBAACC,CAAD,EAAO;AAAEzB,MAAAA,OAAO,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AAA0B;AAA7F,IAFJ,CADJ,EAKI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE/B,KAAK,CAAC2B;AAAnB,KACI,oBAAC,IAAD,iBADJ,EAEI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE3B,KAAK,CAAC4B,EAAxB;AAA4B,IAAA,eAAe,EAAE,IAA7C;AAAmD,IAAA,QAAQ,EAAE,kBAACC,CAAD,EAAO;AAAEvB,MAAAA,WAAW,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA8B;AAApG,IAFJ,CALJ,EASI,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAEtB;AAA3B,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAET,KAAK,CAACgC;AAAnB,cADJ,CATJ,EAYI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEhC,KAAK,CAAC2B;AAAnB,IAZJ,CADJ;AAiBH","sourcesContent":["import React, { useState } from 'react'\r\nimport { View, Text, TouchableOpacity, TextInput } from 'react-native'\r\nimport style from './style.js'\r\n\r\nexport default function Login({ navigation }) {\r\n\r\n    const [user, setUser] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [msm, setMsg] = useState('');\r\n\r\n    const validarLogin = () => {\r\n        let url = \"http://10.87.207.20:8080/api/login\";\r\n\r\n        let data = {\r\n            \"user\": user,\r\n            \"senha\": password\r\n        }\r\n\r\n        fetch(url, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data),\r\n        })\r\n            .then(resp => {\r\n                if (resp.status == 200) {\r\n                    return resp.json();\r\n                } else {\r\n                    setMsg('Usu치rio ou senha inv치lidos');\r\n                }\r\n            })\r\n            .then(data => {\r\n                navigation.navigate(\"home\", data);\r\n            })\r\n            .catch(err => { console.log(err) })\r\n    }\r\n\r\n    return (\r\n        <View style={style.page}>\r\n            <View style={style.inputs}>\r\n                <Text>Login:</Text>\r\n                <TextInput style={style.in} placeholder=\"login\" onChange={(e) => { setUser(e.target.value); }} />\r\n            </View>\r\n            <View style={style.inputs}>\r\n                <Text>Senha:</Text>\r\n                <TextInput style={style.in} secureTextEntry={true} onChange={(e) => { setPassword(e.target.value); }} />\r\n            </View>\r\n            <TouchableOpacity onPress={validarLogin}>\r\n                <Text style={style.entrar} >Entrar</Text>\r\n            </TouchableOpacity>\r\n            <View style={style.inputs}>\r\n            </View>\r\n        </View>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}