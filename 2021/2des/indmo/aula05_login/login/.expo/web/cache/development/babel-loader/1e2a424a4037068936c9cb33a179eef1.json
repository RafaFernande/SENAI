{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport style from \"./style.js\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pw = _useState4[0],\n      setPw = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      msg = _useState6[0],\n      setMsg = _useState6[1];\n\n  var login = function login() {\n    var url = \"http://10.87.207.20:8080/api/login\";\n    var data = {\n      \"user\": user,\n      \"senha\": pw\n    };\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    }).then(function (resp) {\n      if (resp.status == 200) {\n        return resp.json();\n      } else {\n        setMsg(\"Usuario ou Senha invalidos\");\n      }\n    }).then(function (data) {\n      if (data != undefined) navigation.navigate(\"Home\", data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(View, {\n    style: style.page\n  }, React.createElement(View, {\n    style: style.inputs\n  }, React.createElement(Text, null, \"Login:\"), React.createElement(TextInput, {\n    style: style.in,\n    placeholder: \"login\",\n    onChangeText: function onChangeText(value) {\n      setUser(value);\n    }\n  })), React.createElement(View, {\n    style: style.inputs\n  }, React.createElement(Text, null, \"Senha:\"), React.createElement(TextInput, {\n    style: style.in,\n    secureTextEntry: true,\n    onChangeText: function onChangeText(value) {\n      setPw(value);\n    }\n  })), React.createElement(Text, null, msg), React.createElement(TouchableOpacity, {\n    onPress: login\n  }, React.createElement(Text, {\n    style: style.entrar\n  }, \"Entrar\")));\n}","map":{"version":3,"sources":["D:/Rafael Faria/SENAI2021/2des/indmo/aula05/login/pages/login/index.js"],"names":["React","useState","style","Login","navigation","user","setUser","pw","setPw","msg","setMsg","login","url","data","fetch","method","body","JSON","stringify","then","resp","status","json","undefined","navigate","catch","err","console","log","page","inputs","in","value","entrar"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;;AAEA,OAAOC,KAAP;AAEA,eAAe,SAASC,KAAT,OAA+B;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAC1C,kBAAwBH,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOI,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAoBL,QAAQ,CAAC,EAAD,CAA5B;AAAA;AAAA,MAAOM,EAAP;AAAA,MAAWC,KAAX;;AACA,mBAAsBP,QAAQ,CAAC,EAAD,CAA9B;AAAA;AAAA,MAAOQ,GAAP;AAAA,MAAYC,MAAZ;;AAEA,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AACjB,QAAIC,GAAG,GAAG,oCAAV;AAEA,QAAIC,IAAI,GAAG;AACP,cAAQR,IADD;AAEP,eAASE;AAFF,KAAX;AAKAO,IAAAA,KAAK,CAACF,GAAD,EAAM;AACNG,MAAAA,MAAM,EAAE,MADF;AAENC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AAFA,KAAN,CAAL,CAICM,IAJD,CAIM,UAAAC,IAAI,EAAI;AACV,UAAGA,IAAI,CAACC,MAAL,IAAe,GAAlB,EAAuB;AACnB,eAAOD,IAAI,CAACE,IAAL,EAAP;AACH,OAFD,MAEM;AACDZ,QAAAA,MAAM,CAAC,4BAAD,CAAN;AACJ;AACH,KAVF,EAWCS,IAXD,CAWM,UAAAN,IAAI,EAAI;AACT,UAAGA,IAAI,IAAIU,SAAX,EAAsBnB,UAAU,CAACoB,QAAX,CAAoB,MAApB,EAA4BX,IAA5B;AAC1B,KAbD,EAcCY,KAdD,CAcO,UAAAC,GAAG,EAAI;AAACC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAiB,KAdhC;AAeF,GAvBD;;AAyBA,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAExB,KAAK,CAAC2B;AAAnB,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE3B,KAAK,CAAC4B;AAAnB,KACI,oBAAC,IAAD,iBADJ,EAEI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE5B,KAAK,CAAC6B,EAAxB;AAA4B,IAAA,WAAW,EAAC,OAAxC;AAAgD,IAAA,YAAY,EAAE,sBAACC,KAAD,EAAW;AAAE1B,MAAAA,OAAO,CAAC0B,KAAD,CAAP;AAAgB;AAA3F,IAFJ,CADJ,EAKI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE9B,KAAK,CAAC4B;AAAnB,KACI,oBAAC,IAAD,iBADJ,EAEI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE5B,KAAK,CAAC6B,EAAxB;AAA4B,IAAA,eAAe,EAAE,IAA7C;AAAmD,IAAA,YAAY,EAAG,sBAACC,KAAD,EAAW;AAAExB,MAAAA,KAAK,CAACwB,KAAD,CAAL;AAAc;AAA7F,IAFJ,CALJ,EASI,oBAAC,IAAD,QAAQvB,GAAR,CATJ,EAUI,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAEE;AAA3B,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAET,KAAK,CAAC+B;AAAnB,cADJ,CAVJ,CADJ;AAgBH","sourcesContent":["import React, { useState } from 'react'\r\nimport { View, Text, TouchableOpacity, TextInput } from 'react-native'\r\nimport style from './style.js'\r\n\r\nexport default function Login({ navigation }) {\r\n    const [user, setUser] = useState(\"\");\r\n    const [pw, setPw] = useState(\"\");\r\n    const [msg, setMsg] = useState(\"\");\r\n\r\n    const login = () => {\r\n       let url = \"http://10.87.207.20:8080/api/login\";\r\n\r\n       let data = {\r\n           \"user\": user,\r\n           \"senha\": pw\r\n       }\r\n\r\n       fetch(url, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data)\r\n       })\r\n       .then(resp => { \r\n           if(resp.status == 200) {\r\n               return resp.json();\r\n           }else {\r\n                setMsg(\"Usuario ou Senha invalidos\");\r\n           }\r\n        })\r\n       .then(data => {\r\n            if(data != undefined) navigation.navigate(\"Home\", data);\r\n       })\r\n       .catch(err => {console.log(err)})\r\n    }\r\n\r\n    return (\r\n        <View style={style.page}>\r\n            <View style={style.inputs}>\r\n                <Text>Login:</Text>\r\n                <TextInput style={style.in} placeholder=\"login\" onChangeText={(value) => { setUser(value) }} />\r\n            </View>\r\n            <View style={style.inputs}>\r\n                <Text>Senha:</Text>\r\n                <TextInput style={style.in} secureTextEntry={true} onChangeText={ (value) => { setPw(value) } }/>\r\n            </View>\r\n            <Text>{ msg }</Text>\r\n            <TouchableOpacity onPress={login}>\r\n                <Text style={style.entrar} >Entrar</Text>\r\n            </TouchableOpacity>\r\n        </View>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}